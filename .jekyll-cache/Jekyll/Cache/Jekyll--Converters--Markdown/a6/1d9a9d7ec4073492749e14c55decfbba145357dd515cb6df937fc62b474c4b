I"}<hr />

<p><strong>Table of contents:</strong></p>
<ul>
  <li><a href="#maximizing-winning-probability">Maximizing winning probability</a></li>
  <li>
    <h2 id="maximizing-expected-payoff"><a href="#maximizing-expected-payoff">Maximizing expected payoff</a></h2>
  </li>
</ul>

<p>In the last <a href="/posts/continuous-blackjack-i/">post</a>, we derived some basic equations of the continuous blackjack game. In this post, we will show other ways - maybe more intuitive - to derive the same results.</p>

<h1 id="maximizing-winning-probability">Maximizing winning probability</h1>

<p>The first method to get the optimal threshold is the most direct one: given the probability of winning $p(\alpha)$ find its maximum. This is a problem that any high schooler is used to solving, so we believe that this approach can be more intuitive than the previous one. Now the problem comes to determine $p(\alpha)$. Let’s define it first using words, and after we will translate it to maths.</p>

\[p(\alpha) = p_1(\alpha) \times p_2(\alpha)\]

<p>where</p>

<ol>
  <li>$p_1(\alpha)$ is the probability of 1st player landing $(\alpha, 1)$.</li>
  <li>$p_2(\alpha)$ is the probability of 2nd player going bust while trying to reach $s$, given that 1st player has a score $s$, summing over all the possible $s$.</li>
</ol>

<p>The value of $p_1(\alpha)$ is simply $F(0; \alpha, 1)$ - as we have derived in our first <a href="/posts/continuous-blackjack-i/">post</a>. And $p_2(\alpha)$ is</p>

\[p_2(\alpha) = \int_{\alpha}^{1} \frac{1}{1 - \alpha} (1 - F(0; s, 1)) ds\]

<p>where $\frac{1}{1 - \alpha}$ is the probability of 1st player landing in $s$. And  $(1 - F(0; s, 1)$ is the probability of the 2nd player going bust given that the 1st player is in $s$. For $n+1$ players we just need to compute the probability of all the $n$ players going bust, which is $(1 - F(0; s, 1))^n$</p>

<p>Finally, we get</p>

\[p_n(\alpha) = F(0; \alpha, 1) \int_\alpha^1 \frac{1}{1-\alpha} [1 - F(0; s, 1)]^n ds\]

<p>And now $\alpha^*$ is given by</p>

\[\frac{d p_n(\alpha)}{d \alpha} \bigg|_{\alpha=\alpha^*} = 0\]

<h2 id="solving-the-equation">Solving the equation</h2>

<p>Let’s now derive the optimal threshold by differentiating and equaling to zero. First of all, using $F(0; \alpha, 1) = (1 - \alpha)e^\alpha$ we can simplify $p_n$ to</p>

\[p_n = e^\alpha \int_\alpha^1 (1 - F(0; s, 1))^n ds\]

<p>Now using <a href="https://en.wikipedia.org/wiki/Leibniz_integral_rule">Leibniz integral rule</a> we have</p>

\[\frac{d p_n(\alpha)}{d \alpha} = e^\alpha \left(\int_\alpha^1 (1-F(0;\alpha,1))^nds - (1-F(0;\alpha,1))^n\right)\]

<p>Hence, the optimal value is given by</p>

\[(1-F(0;\alpha,1))^n = \int_\alpha^1 (1-F(0;s,1))^n ds\]

<p>which is the same equation we derived in our last post.</p>

<h1 id="maximizing-expected-payoff-1">Maximizing expected payoff</h1>

<p>Another way to derive the equation for the best strategy is to maximize the expected payoff. In general, the expected value of a random variable $X$ with a pdf $f(x)$ is $\left&lt; x\right&gt; = \int_{-\infty}^{\infty} xf(x) dx$. In our case $x = (1 - F(0; x, 1))$ is the probability of the other player going bust. On the other hand, density $f$ can be obtained using</p>

\[F(0; x, y) := P(S(x) \leq y) = \int_0^y f(S(x))dx\]

<p>where $S(x)$ is the sum obtained for a threshold $x$. Therefore,</p>

\[f(S(x)) =\frac{\partial F(0; x, y)}{\partial y}\]

<p>and finally, our expected outcome is</p>

\[\left&lt; p_{win}(\alpha) \right&gt; = \int_\alpha^1 (1 - F(0; s, 1)) \frac{\partial F(0; \alpha, y)}{\partial y} ds\]

<p>In the particular case of $P=U[0, 1]$ we know that $F(0; x, y) = (y - x)e^x$. Thence, the expected outcome is</p>

\[\left&lt; p_{win}(\alpha) \right&gt; = e^\alpha\int_\alpha^1 (1 - F(0; s, 1)) ds\]

<p>which is the same equation as the one derived in the last section.</p>

<h1 id="conclusions">Conclusions</h1>

<p>In this post, we have derived two new ways to determine the optimal threshold for the continuous blackjack game. This may seem like a waste of effort since similar equations were derived in the last post. However, we believe that knowing how to derivate the same result through different methods is always a good investment of time. If you don’t agree with this last assertion we recommend you to read <a href="https://nabeelqu.co/understanding">this blog post</a>.</p>

<p>If you have some other way to derive the same results feel free to add them in the comments!</p>
:ET